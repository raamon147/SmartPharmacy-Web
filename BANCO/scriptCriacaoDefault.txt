create database if not exists farmacia;

use farmacia;

drop table aplicacao;
drop table cliente;
drop table compra;
drop table convenio;
drop table login;
drop table produto;
drop table produtos_compra;

create table if not exists aplicacao (
id int primary key auto_increment not null,
cpf varchar(15) not null unique,
nome varchar(40) not null,
nascimento varchar(12) not null,
endereco varchar(45) not null,
tipo varchar(20) not null,
medicamento varchar(45) not null,
data varchar(12) not null
);

create table if not exists cliente (
id int not null primary key auto_increment,
cpf varchar(15) not null unique,
c_nome varchar(40) not null,
c_end varchar(100) not null,
c_tel varchar(15) not null,
c_dtnasc varchar(12) not null,
c_qtdpontos int
);

create table if not exists compra (
id int not null primary key auto_increment,
codigo_carrinho varchar(20) not null,
total_compra float not null,
cpf_comprador varchar(15),
data_compra date not null
);

create table if not exists convenio (
idconvenio int(30) not null primary key,
nome_conv varchar(40) not null unique,
cod_conv varchar(40) not null unique,
desc_med float not null,
desc_perf float not null
);

create table if not exists login (
id int not null primary key auto_increment,
usuario varchar(15) not null,
senha varchar(15) not null,
cpf varchar(15) not null unique,
email varchar(40) not null,
codigo int not null
);

create table if not exists produto (
idproduto int not null primary key auto_increment,
cod_prod varchar(12) not null unique,
nome_prod varchar(45) not null,
qtd_prd int not null,
preco_prod float not null,
fabr_prod varchar(45) not null,
pr_ativo varchar(45) not null,
dos_prod varchar(45) not null,
status_prod varchar(20) not null
);

create table if not exists produtos_compra (
id int not null primary key auto_increment,
cod_prod varchar(20) not null,
nome_produto varchar(45) not null,
qtd_produto int not null,
total_produto float not null,
data_compra date not null,
codigo_carrinho varchar(20) not null
);